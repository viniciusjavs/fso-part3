{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","name","handleChange","value","onChange","PersonForm","addPerson","handleNameChange","number","handleNumberChange","onSubmit","htmlFor","id","type","Person","handleClick","onClick","Persons","persons","handleDel","map","baseURL","personService","getAll","axios","get","then","response","data","create","newPerson","post","del","delete","update","put","Notification","noteObj","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","success","undefined","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","notification","setNotification","notify","setTimeout","useEffect","initialPersons","removeId","filter","p","personsToShow","toLowerCase","startsWith","target","event","preventDefault","person","find","window","confirm","returnedPerson","catch","error","console","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87b2aad9.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ name, handleChange }) => {\n    return (\n        <div>\n            filter shown with: <input value={name} onChange={handleChange} />\n        </div>\n    )\n}\n\nexport default Filter","import React from \"react\"\n\nconst PersonForm = ({ addPerson, name, handleNameChange, number, handleNumberChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                <label htmlFor=\"name\" >name:</label>\n                <input id=\"name\" value={name} onChange={handleNameChange}/>\n            </div>\n            <div>\n                <label htmlFor=\"number\">number:</label>\n                <input value={number} onChange={handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from \"react\"\n\nconst Person = ({ name, number, id, handleClick }) => {\n    return (\n        <div>\n            {name} {number} &nbsp;\n            <button onClick={() => handleClick(name, id)}>delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from \"react\"\nimport Person from './Person'\n\nconst Persons = ({ persons, handleDel }) => {\n    return (\n        <div>\n            {persons.map(({name, number, id}) => <Person key={id} name={name} number={number} id={id} handleClick={handleDel} />)}\n        </div>\n    )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseURL, newPerson)\n    return request.then(response => response.data)\n}\n\nconst del = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => {})\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseURL}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst personService = {getAll, create, del, update}\nexport default personService","import React from \"react\"\n\nconst Notification = ({noteObj: { message, success }}) => {\n    let style = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    if (success === true) {\n        style.color = 'green'\n    }\n\n    if (message === undefined) {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = ()  => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ notification, setNotification ] = useState({})\n\n  const notify = (message, success = true) => {\n    let noteObj = {message, success}\n    setNotification(noteObj)\n          setTimeout(() => {\n            setNotification({})\n          }, 5000);\n    }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const removeId = id => setPersons(persons.filter(p => p.id !== id))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const person = persons.find(({ name }) => name === newPerson.name)\n    if (person !== undefined) {\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`))\n      {\n        personService\n          .update(person.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map( p => p.id === person.id ? returnedPerson : p))\n          })\n          .catch(error => {\n            notify(`Information of ${newPerson.name} has already been removed from server`, false)\n            console.error(error.response);\n            removeId(person.id)\n          })\n          notify(`Updated ${newPerson.name}'s number`)\n      }\n    }\n    else {\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n        notify(`Added ${newPerson.name}`)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const delPerson = (name, id) => {\n    if(window.confirm(`Delete ${name} ?`)) {\n      personService\n        .del(id)\n        .then(() => {\n          removeId(id)\n          notify(`Deleted ${name}`)\n        })\n        .catch(() => {\n            notify(`${name} had already been removed from server`, false)\n            removeId(id)\n        })\n    }\n  }\n\n  const handleNameChange = ( {target: {value}} ) => setNewName(value)\n  const handleNumberChange = ( {target: {value}} ) => setNewNumber(value)\n  const handleSearchChange = ( {target: {value}} ) => setSearchName(value)\n\n  const personsToShow = searchName === ''\n    ? persons\n    : persons.filter(({name}) => name.toLowerCase().startsWith(searchName.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification noteObj={notification} />\n      <Filter name={searchName} handleChange={handleSearchChange} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} name={newName} handleNameChange={handleNameChange} \n        number={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDel={delPerson} />\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}